def parseCommaSepartedPairs(filename):
    tuples = [];
    with open(filename) as f:
        lines = f.readlines()
        lines = [x.strip() for x in lines]
        for line in lines:
            tpl = line.split(",");
            tuples.append(tpl);
    return tuples;


filename1 = "/root/IM.txt";
filename2 = "/root/MI.txt";
print "oldIP", "MAC", "newIP";
for tpl1 in parseCommaSepartedPairs(filename1):
    for tpl2 in parseCommaSepartedPairs(filename2):
        if (tpl1[1] == tpl2[0]):
            print tpl1[0], tpl1[1], tpl2[1];
